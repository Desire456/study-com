<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Расписание</title>
    <link rel="stylesheet" href="css/table.css">
</head>

<body>

<!-- шапка  -->
<div class="navbar">
    <ul>
        <li><a href="/home"><b>Домашняя страница</b></a></li>
        <li><a href="/group"><b>Группа</b></a></li>
        <li><a href="/timetable"><b>Расписание</b></a></li>
        <li><a href="/coin"><b>Монетка судьбы</b></a></li>
        <li th:if="${user.role.name() == 'STAR'}"><a href ="/addTimetable"><b>Добавить расписание</b></a></li>
    </ul>
    <div class="profile">
        <a href="#"><img th:src="${user.urlPhoto == null ?
                'https://windows10free.ru/uploads/posts/2017-04/1493287748_1487679899_icon-user-640x640.png' :
                 user.urlPhoto}" class="profile-photo"></a>
    </div>
    <div class="profile-text">
        <b th:text="${user.surname}"></b>
        <b th:text="${user.name}"></b>
        <br>
        <b th:text="${user.group.name}"></b> | <b th:text="${user.level}"></b><b> уровень</b>
    </div>
</div>


<!-- таблица + модальные окна -->
<div class="wrapper-table">
    <div class="modal-overlay"></div>
    <div class="modal-wrapper">
        <div class="modal">
            <button class="close-modal">×</button>
            <h2>Численные методы</h2>
            <h3>Полезные ресурсы</h3>
            <ol>
                <li>
                    Ссылка #1
                </li>
                <li>
                    Ссылка #2
                </li>
                <li>
                    Ссылка #3
                </li>
                <li>
                    Ссылка #4
                </li>
            </ol>
            <button class="change">Изменить</button>
        </div>
    </div>
    <table border="1" cellpadding="4" cellspacing="0" width="80%">
        <caption class="cap">Расписание</caption>
        <caption class="cap">Неделя 1 (нечетная)</caption>
        <tr>

            <th>Время</th>

            <th>Понедельник</th>

            <th>Вторник</th>

            <th>Среда</th>

            <th>Четверг</th>

            <th>Пятница</th>

            <th>Суббота</th>

        </tr>
        <tr th:each="day : ${timetable}" th:if = "${timetable != null}">
            <th:block th:if = "${!day.value.isEmpty()}">
            <td>
                <div class="content">
                    <button class="open-modal" th:text = "${day.key}">8.00 - 9.35</button>
                </div>
            </td>
            <td th:each="lesson : ${day.value}">
                <div class="container">
                    <div class="content">
                        <th:block th:if = "${lesson.name == '-'}">
                        <p th:text = "${lesson.name}">lesson</p>
                        </th:block>
                        <th:block th:if = "${lesson.name != '-'}">
                            <button class = "open-modal" th:text = "${lesson.name}">lesson</button>
                            <p th:text = "${lesson.getLessonType().getNameType()}"></p>
                        </th:block>
                    </div>
                </div>
            </td>
            </th:block>
        </tr>
    </table>
</div>

<script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js'></script> <!-- анимации -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script> <!-- анимации -->

<script src="js/table.js"></script>    <!-- открытие/закрытие окна -->
</body>
</html>